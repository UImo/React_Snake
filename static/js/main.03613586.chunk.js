(this.webpackJsonpreact_snake=this.webpackJsonpreact_snake||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(5),o=a(6),s=a(3),i=a(8),c=a(7),d=a(0),h=a(2),l=a.n(h),u=a(9),f=a.n(u),v=(a(16),function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).WIDTH=11,o.HEIGHT=11,o.itemWidth=100/o.WIDTH,o.itemHeight=100/o.HEIGHT,o.restart=function(){o.setState((function(e){return e.paused||o.pausePlay(),Object(n.a)(Object(n.a)({},e),{},{hightScore:e.snake.length>e.hightScore?e.snake.length:e.hightScore,grid:o.initGrid(o.HEIGHT,o.WIDTH),food:o.getRandom(o.HEIGHT,o.WIDTH),gameOver:!1,direction:"up",snake:{head:o.getCenterOfGrid(),body:[],length:0}})}))},o.state={tickTime:200,paused:!0,width:o.WIDTH,height:o.HEIGHT,hightScore:0,gameOver:!1,grid:o.initGrid(o.HEIGHT,o.WIDTH),food:o.getRandom(o.HEIGHT,o.WIDTH),direction:"up",snake:{head:o.getCenterOfGrid(),body:[],length:0}},o.handleKeyPress=o.handleKeyPress.bind(Object(s.a)(o)),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){document.body.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.handleKeyPress),clearInterval(window.fnInterval)}},{key:"initGrid",value:function(e,t){for(var a=[],n=0;n<e;n++)for(var r=0;r<t;r++)a.push({row:n,col:r,status:0,isFood:!1,isHead:!1,isBody:!1});return a}},{key:"getRandom",value:function(){return{row:Math.floor(Math.random()*this.HEIGHT),col:Math.floor(Math.random()*this.WIDTH)}}},{key:"getCenterOfGrid",value:function(){return{row:Math.floor(this.HEIGHT/2),col:Math.floor(this.WIDTH/2)}}},{key:"setTick",value:function(){var e=this;window.fnInterval=setInterval((function(){e.gameTick()}),this.state.tickTime)}},{key:"pausePlay",value:function(){this.state.paused?(this.setState({paused:!1}),this.setTick()):(this.setState({paused:!0}),clearInterval(window.fnInterval))}},{key:"foodHandler",value:function(){function e(e,t){for(var a=0;a<e.length;a++)if(e[a].row===t.row&&e[a].col===t.col)return!0;return!1}for(var t=this.getRandom(),a=this.state.snake.body;e(a,t);)t=this.getRandom();return t}},{key:"checkIfFood",value:function(e){var t=this.state.food.row===e.row&&this.state.food.col===e.col;e.isFood=t}},{key:"checkIfHead",value:function(e){var t=this.state.snake.head.row===e.row&&this.state.snake.head.col===e.col;e.isHead=t}},{key:"checkIfBody",value:function(e){for(var t=!1,a=0;a<this.state.snake.body.length&&!(t=this.state.snake.body[a].row===e.row&&this.state.snake.body[a].col===e.col);a++);e.isBody=t}},{key:"moveSnake",value:function(e,t){var a=t.head,r=t.body,o={row:a.row,col:a.col};switch(e){case"left":a.col--;break;case"up":a.row--;break;case"down":a.row++;break;case"right":default:a.col++}return r.unshift(o),r.pop(t.body[t.body.length-1]),Object(n.a)(Object(n.a)({},t),{},{head:a,body:r})}},{key:"growSnake",value:function(e){e.length+=1;var t=0===e.body.length?e.head:e.body[e.body.length-1];return e.body.push(t),e}},{key:"checkGameOver",value:function(e){var t=!1,a=e.head,n=e.body,r=a.row,o=a.col;(r<0||r>=this.HEIGHT||o<0||o>=this.WIDTH)&&(t=!0);for(var s=0;s<n.length;s++)n[s].row===r&&n[s].col===o&&(t=!0);return t}},{key:"handleKeyPress",value:function(e){var t=this;this.setState((function(a){var r=t.state,o=r.direction,s=r.oldDirection;switch(e.keyCode){case 37:"right"!==s&&(o="left");break;case 38:default:"down"!==s&&(o="up");break;case 39:"left"!==s&&(o="right");break;case 40:"up"!==s&&(o="down");break;case 32:e.preventDefault(),t.state.gameOver||t.pausePlay()}return Object(n.a)(Object(n.a)({},a),{},{direction:o})}))}},{key:"gameTick",value:function(){var e=this;this.setState((function(t){var a=t.direction,r=t.gameOver,o=t.snake,s=t.food;return r||(o=e.moveSnake(a,o),e.setState({oldDirection:a}),o.head.row===s.row&&o.head.col===s.col?(s=e.foodHandler(),o=e.growSnake(o)):r=e.checkGameOver(o)),Object(n.a)(Object(n.a)({},t),{},{gameOver:r,food:s,snake:o})}))}},{key:"renderSquare",value:function(e){this.checkIfFood(e),this.checkIfHead(e),this.checkIfBody(e);var t="grid-item";return e.isFood&&(t+=" is-food"),e.isHead&&(t+=" is-head"),e.isBody&&(t+=" is-body"),this.state.gameOver&&(t+=" is-gameOver"),Object(d.jsx)("div",{className:t,style:{width:this.itemWidth.toString()+"%",height:this.itemHeight.toString()+"%"}},e.row.toString()+"-"+e.col.toString())}},{key:"render",value:function(){var e=this,t=this.state.grid.map((function(t){return e.renderSquare(t)}));return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"snake-container",children:[Object(d.jsx)("div",{className:"grid",children:t}),Object(d.jsxs)("div",{className:"game-info",children:[Object(d.jsxs)("h2",{className:"score",children:["Score: ",this.state.snake.length.toString()]}),Object(d.jsxs)("h4",{children:["Highscore: ",this.state.hightScore.toString()]}),Object(d.jsx)("div",{className:"pause",children:this.state.paused?"Paused - Space to play":this.state.gameOver?"Game Over":"Space to pause"}),Object(d.jsx)("button",{className:"restart",onClick:this.restart,children:Object(d.jsx)("img",{className:"icon",src:"https://cdn4.iconfinder.com/data/icons/glyphs/24/icons_update-512.png",alt:"re-start"})})]})]})})}}]),a}(l.a.Component)),k=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("header",{children:Object(d.jsx)("h1",{className:"title",children:"Snake"})}),Object(d.jsx)("div",{className:"game-board",children:Object(d.jsx)(v,{})}),Object(d.jsx)("footer",{children:Object(d.jsx)("span",{className:"name",children:"by Mathis Powell"})})]})}}]),a}(l.a.Component);f.a.render(Object(d.jsx)(k,{}),document.getElementById("root"))},16:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.03613586.chunk.js.map